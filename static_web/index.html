<html>
  <head>
    <title>Node Config</title>
  
    <!-- mass-produced css from the interwebs -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <link href="/static/css/flat-ui.css" rel="stylesheet">
 
    <!-- sweet homebrewed css. mmm... -->
    <link href="/static/css/config.css" rel="stylesheet">
   
    <!-- mass-produced js from the intertubes -->
    <script type="text/javascript" src="/static/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="/static/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="/static/js/underscore.js"></script>
    <script type="text/javascript" src="/static/js/json2.js"></script>

    <!-- app-specific js -->
    <script type="text/javascript" src="/static/js/config.js"></script>

    <!-- javascript templates -->
    <script id="node_template" type="template/html">
        <div id="<%= id %>" class="node">
          <div class="title"><%- title %></div>
          <div class="MAC"><span class="label">MAC:</span> <span class="text"><%- mac_addr %></span></div>
          <div class="status"><span class="label">Status:</span> <span class="text"><%- status %></span></div>
        </div>
    </script>

    <script id="node_form_template" type="template/html">
      <div id="flash"></div>
      <div class="node_info">
        <h2><%- title %></h2>
        <h3>MAC: <%- mac_addr %></h3>
        <h3>Hardware manufacturer: <%- mac_org %></h3>
        <form class="node_info_form">
          <input type="hidden" name="mac_addr" value="<%- mac_addr %>">
          Location: <input type="text" name="location" value="<%- conf.location %>"><br>
          Operator name:  <input type="text" name="operator_name" value="<%- conf.operator_name %>"><br>
          Operator email: <input type="text" name="operator_email" value="<%- conf.operator_email %>"><br>
          Operator phone: <input type="text" name="operator_phone" value="<%- conf.operator_phone %>"><br>

          Hostname: <input type="text" name="hostname"> (whatever you want, but must be a valid hostname)<br>
          This node's subnet: <input type="text" name="node_public_subnet_ipv4">(e.g: 10.0.1.0/24)<br>
          batman-adv gateway mode: <input type="text" name="batman_gw_mode"> (e.g: "server 1mbit/256kbit" or "client" if no internet)<br>

          Exit node IP: <input type="text" name="exit_node_ipv4_addr" value="192.157.242.65"> (e.g: 192.157.242.65)<br>
          Relay node internet IP: <input type="text" name="relay_node_inet_ipv4_addr" value="198.56.144.47"> (e.g: 198.56.144.47)<br>
          Relay node mesh IP: <input type="text" name="relay_node_mesh_ipv4_addr" value="10.42.0.10"> (e.g: 10.42.0.10)<br>
          Private wifi SSID: <input type="text" name="private_wifi_ssid"> (e.g: Milliways)<br>
          Private wifi key: <input type="text" name="private_wifi_key"> (e.g: endofuniverse42)<br>



          <input type="submit" id="node_detail_form_button" value="Configure node">
        </form>
      </div>
    </script>

  </head>
  <body>
      
    <div id="top_pane">

      <a href="https://github.com/sudomesh/node-configurator">sudomesh.org node configurator v0.0.1</a>
    </div>

    <div id="left_pane">
      <div id="node_list">
        <p>No nodes connected.</p>
        <!-- nodes go here -->
      </div>
    </div>      
    <div id="right_pane">
      <h2>Node Configurator 0.1</h2>
      <p>Wait for a node to show up in the left panel, then click the node to start configuration.</p>
      <p>As you fill out the configuration form, the data is saved client-side in a cookie in case the node gets disconnected mid-configuration. Simply re-boot/re-connect the node and continue configuration.</p>
    </div>
  </body>
</html>
